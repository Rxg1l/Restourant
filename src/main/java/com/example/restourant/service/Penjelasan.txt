Service Bertugas: Mengelola logika bisnis dan berinteraksi hanya dengan Entity.

- 1. Implementasi Logika Bisnis (Core Responsibility)Inilah alasan utama keberadaan lapisan Service. Ia menampung semua aturan yang membuat aplikasi restoran Anda berfungsi.Contoh Logika BisnisPenjelasanImplementasi di Project AndaKalkulasi HargaMenghitung subTotal untuk setiap item dan menjumlahkannya menjadi totalHarga Pemesanan.Diimplementasikan dalam PemesananService.buatPemesananBaru().Validasi Aturan KhususMemastikan harga menu tidak negatif atau kuantitas pesanan tidak nol.Diimplementasikan dalam MenuService.simpanMenu() () dengan pengecekan if (menu.getHarga() <= 0).Pengecekan Ketersediaan(Jika ada) Memeriksa apakah Pelayan ID yang melayani dan Menu ID yang dipesan benar-benar ada di database.Diimplementasikan dalam PemesananService dengan orElseThrow() jika Pelayan/Menu ID tidak ditemukan.
2. Koordinasi dan Transaksi (Transaction Management)Service bertanggung jawab untuk memastikan bahwa operasi yang melibatkan beberapa database (atau beberapa tabel) berjalan sebagai satu unit yang utuh (Transaksional).Contoh pada Pemesanan:Ketika Anda membuat Pemesanan baru, itu sebenarnya melibatkan dua operasi save ke dua tabel yang berbeda:Menyimpan objek Pemesanan (header/induk).Menyimpan semua objek DetailPemesanan (item/anak).Jika salah satu save gagal (misalnya, DetailPemesanan kedua gagal disimpan), seluruh operasi harus dibatalkan (rollback), termasuk Pemesanan header yang sudah disimpan pertama kali. Anotasi @Transactional (yang umumnya diletakkan di method Service) memastikan hal ini terjadi.
3. Jembatan antara Controller dan RepositoryService menghubungkan lapisan atas dan bawah, sehingga:Controller (lapisan I/O) tidak perlu tahu tentang cara kerja database (SQL, JPA).Repository (lapisan database) tidak perlu tahu tentang format data yang akan dikirim ke client (DTO).Service hanya berkomunikasi dengan:Repository (dengan memanggil menuRepository.findById(), pemesananRepository.save(), dll.).Controller (dengan menerima Entity atau DTO input, dan mengembalikan Entity atau DTO output).
 Posisi Service dalam ArsitekturService berada di tengah, dilayani oleh Controller dan melayani Repository:Alur PermintaanControllerServiceRepositoryData MasukMenerima JSON dari Client.Menerima Entity dari Controller.Menerima permintaan data/perubahan dari Service.Tanggung JawabValidasi input dasar, delegasi.Logika Bisnis, Transaksi, Koordinasi.Interaksi langsung dengan DB.Data KeluarMengembalikan DTO/JSON ke Client.Mengembalikan Entity (setelah diproses) ke Controller.Mengembalikan Entity dari database.