DTO (Data Transfer Object) adalah konsep desain fundamental dalam pengembangan aplikasi, terutama pada API berbasis Spring Boot.Jika kita menggunakan analogi restoran yang sama:Entity adalah bahan makanan mentah yang disimpan dan diurus oleh dapur (database).Controller adalah Resepsionis yang berkomunikasi dengan pelanggan (client).DTO adalah Menu/Piring Jadi yang disajikan kepada pelanggan. DTO hanya berisi informasi yang relevan bagi pelanggan, tanpa detail dapur internal.
ğŸ’¡ Apa Itu DTO?DTO adalah kelas Java sederhana yang tujuannya adalah hanya untuk membawa data antar proses atau antar lapisan aplikasi. DTO tidak memiliki logika bisnis.Peran Kunci DTODTO memiliki dua peran utama berdasarkan alur datanya:
1. Input DTO (Request DTO)DTO yang digunakan untuk menerima data dari client (permintaan POST/PUT).Tujuan: Menyaring data mentah yang dikirim oleh client sebelum data tersebut mencapai lapisan Service.Contoh: Sebaiknya Anda membuat PemesananRequestDTO yang hanya berisi pelayanId dan List<DetailPemesananDTO>, bukan seluruh objek Pemesanan Entity.
2. Output DTO (Response DTO)DTO yang digunakan untuk mengirim data kepada client (respons GET/POST/PUT).Tujuan:Memutus Relasi: Mengatasi masalah infinite recursion yang Anda alami (tanpa perlu @JsonIgnore permanen pada Entity).Keamanan: Menyembunyikan field sensitif yang ada di Entity tetapi tidak boleh dilihat oleh client (misalnya, password hash, field internal database, atau gaji pelayan).Efisiensi: Mengirimkan payload JSON yang minimal dan sesuai kebutuhan.
ğŸ—ï¸ Mengapa DTO Sangat Penting (Kontras dengan Entity)Menggunakan DTO (dan Mapper) adalah wajib karena alasan ini:FiturMenggunakan Entity Langsung (Tidak Disarankan)Menggunakan DTO (Sangat Disarankan)Keterpaparan DataEntity akan mengekspos field internal database dan field sensitif lainnya secara default.Anda mengontrol setiap field yang dikirim, menyembunyikan detail internal.ValidasiPerubahan validasi (misalnya, @NotNull) di Entity dapat memengaruhi semua method CRUD (Create, Read, Update, Delete) di Service.Anda dapat membuat DTO input yang berbeda untuk Create dan Update, memungkinkan validasi yang berbeda tanpa mengganggu Entity.Siklus DataRentan terhadap error rekursi (@OneToMany ke @ManyToOne).Siklus terputus; DTO hanya membawa ID atau nama, bukan objek relasi penuh.Perubahan KodeJika Anda mengubah nama field di Entity, JSON API output Anda juga otomatis berubah, merusak client yang sudah ada.Mapper dan DTO bertindak sebagai lapisan penyangga. Perubahan di Entity tidak akan merusak API output selama Mapper tidak diubah.